<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="UTF-8">
    <title>欢迎页面-X-admin2.0</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../css/font.css">
    <link rel="stylesheet" href="../css/xadmin.css">
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="../lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/xadmin.js"></script>
    <script src="../js/global.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="../js/loginFilter.js"></script>
    <link rel="stylesheet" type="text/css" href="../js/easyui/themes/icon.css" />
    <link rel="stylesheet" href="../js/easyui/themes/bootstrap/easyui.css" type="text/css" />
  </head>
  <script type="text/javascript">
	  var tokenId=globalData.getToken();
    $(function() {
      $("#carInfo").datagrid({
        method: 'post',
        url: globalData.server + 'cars/findAll',//调用数据接口
		queryParams: {
			tokenId: tokenId
					}
      });
    })

    function searchCars() {
      $("#carInfo").datagrid('load',{
        carNumber:$("#carNumber").val(),
		carNo:$("#carNo").val(),
		cartype:$("#cartype").val(),
		status:$("#status").val(),
        tokenId: tokenId
       }); 
    }
	
	/* 按钮 */
	function anniu(value, row, index){
		return "<a title='编辑'  onclick='x_admin_show('编辑','member-edit.html',600,400)' href='javascript:;'> <i class='layui-icon'>&#xe642;</i> </a>"
              +" <a title='删除' onclick='member_del(this,'要删除的id')' href='javascript:;'> <i class='layui-icon'>&#xe640;</i> </a>";
	}
  </script>
  <body>
	  <div class="x-body">
	     <div class="layui-row">
	          <form class="layui-form layui-col-md12 x-so">
               <div class="layui-inline">
	               <label class="layui-form-label">车牌号</label>
	               <div class="layui-inline">
	                   <input type="text" placeholder="请输入车牌号" name="carNumber" id="carNumber" class="layui-input">
	               </div>
	           </div>
			   <div class="layui-inline">
			       <label class="layui-form-label">车辆编号</label>
			       <div class="layui-inline">
			           <input type="text" placeholder="请输入车辆编号" name="carNo" id="carNo" class="layui-input">
			       </div>
			   </div>
			  
			   
			   <div class="layui-input-inline">
			       <label class="layui-form-label">车辆类型</label>
			       <div class="layui-input-inline">
			           <select id="cartype" name="userSex">
			               <option value="">请选择</option>
			               <option value="货车">货车</option>
			               <option value="半挂">半挂</option>
			           </select>
			       </div>
			   </div>
			   
			   <div class="layui-input-inline">
			       <label class="layui-form-label">状态</label>
			       <div class="layui-input-inline">
			           <select id="status" name="status">
			               <option value="">请选择</option>
			               <option value="0">未工作</option>
			               <option value="1">工作中</option>
						   <option value="2">工作完成</option>
			           </select>
			       </div>
			   </div>
			 
	            <button class="layui-btn" type="button" onclick="searchCars()"><i class="layui-icon">&#xe615;</i></button>
				<button class="layui-btn" onclick="refresh()" title="刷新">
				  <i class="layui-icon">ဂ</i></button>
	          </form>
	        </div>
	        <xblock>
	          <button class="layui-btn layui-btn-danger" onclick="delAll()"><i class="layui-icon"></i>批量删除</button>
	          <button class="layui-btn" onclick="x_admin_show('添加车辆','./member-add.html',600,400)"><i class="layui-icon"></i>添加</button>
	        </xblock>
  <div class="easyui-layout" id="productImgs_list" style="height: 650px;">
    <table id="carInfo" class="easyui-datagrid" title="车辆信息" data-options="rownumbers:true,height:'60%',fitColumns:true,pageSize:5,singleSelect:true,collapsible:true,pagination:true,pageList:[5,10,20],toolbar:'#datagridBtn'">
      <thead>
      <tr>
        <th data-options="field:'id',width:100,align:'center'"hidden="true"></th>
        <th data-options="field:'carNumber',title:'车牌号',width:130,align:'center'"></th>
        <th data-options="field:'carNo',title:'车辆编号',width:120,align:'center'"></th>
        <th data-options="field:'zaiZhong',title:'载重',width:160,align:'center'"></th>
        <th data-options="field:'brand',title:'品牌',width:160,align:'center'"></th>
        <th data-options="field:'carType',title:'车辆类型',width:120,align:'center'"></th>
        <th data-options="field:'safeTime',title:'车辆保险日期',width:160,align:'center'"></th>
        <th data-options="field:'carMasterName',title:'车主姓名',width:160,align:'center'"></th>
        <th data-options="field:'carMasterPhone',title:'车主电话',width:120,align:'center'"></th>
        <th data-options="field:'identityCard',title:'车主证件号',width:140,align:'center'"></th>
        <th data-options="field:'carMasterAddress',title:'车主所在地',width:150,align:'center'"></th>
        <th data-options="field:'status',title:'车辆运输状态',width:150,align:'center'"></th>
        <th data-options="field:'remark',title:'备注',width:130,align:'center'"></th>
		<th data-options="field:'driverId',title:'司机名称',width:100,align:'center'"></th>
		<th data-options="field:'caozuo',title:'操作',width:120,align:'center',formatter: anniu"></th>
      </tr>
      </thead>
    </table>
  </div>
  </div>
  </body>

</html>
